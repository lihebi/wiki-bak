<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf8">
    <title>os/install.md 正文 - 白衣染霜华</title>
    <link rel="stylesheet" href="/css/adc39f9c.app.css">
    <link href="/css/06f85b78.main.css" rel="stylesheet">
  </head>
  <body>
    <div class="narrow"><h2 id="osx-10-10-yosemite">OSX 10.10 yosemite</h2>
<p>这个版本的preview版无法使用<code>createinstallmedia</code>的方法。</p>
<p>使用<code>InstallESD.dmg</code>方法：</p>
<ol>
<li>格式化</li>
</ol>
<p>Disk Utility，点击U盘（而不是分区），点分区。<br>设置为一个分区，名字，扩展日志，option选GUID。</p>
<ol>
<li>从dmg中找到InstallESD.dmg</li>
<li>显示隐藏文件</li>
</ol>
<pre><code>defaults write com.apple.finder AppleShowAllFiles TRUE
killall Finder
</code></pre><p>这时候在InstallESD中出现：<code>BaseSystem.chunklist</code>, <code>BaseSystem.dmg</code>, <code>Packages</code></p>
<ol>
<li>恢复</li>
</ol>
<p>将U盘的分区yosemite作为目标，<code>BaseSystem.dmg</code>作为源</p>
<ol>
<li>拷贝<code>Packages</code></li>
</ol>
<p>将InstallESD中的<code>Packages</code>目录拷贝到U盘的<code>System/Installation/</code>下，覆盖</p>
<ol>
<li>拷贝</li>
</ol>
<p>将InstallESD中的<code>BaseSystem.chunklist</code>和<code>BaseSystem.dmg</code>拷贝到U盘根。</p>
<ol>
<li>将文件隐藏回去</li>
</ol>
<pre><code>defaults write com.apple.finder AppleShowAllFiles FALSE
killall Finder
</code></pre><h2 id="osx-10-9">OSX 10.9</h2>
<ol>
<li>在App Store中下载系统镜像</li>
<li>插入一个大于8g的优盘，打开disk util</li>
<li>侧边栏选择优盘，再选erase。 将磁盘格式化为macos extended 日志式。命名为Untitled（后面用）</li>
<li>打开终端，输入：</li>
</ol>
<pre><code>sudo /Applications/Install\ OS\ X\ Mavericks.app/Contents/Resources/createinstallmedia \
—volume /Volumes/Untitled \
—applicationpath /Applications/Install\ …Mavericks.app \
—nointeraction
</code></pre><h2 id="raspberry-pi-sd-card">Raspberry Pi SD card</h2>
<pre><code>diskutil umountDisk /dev/disk1
sudo dd bs=1m if=xxx.img of=/dev/rdisk1
sudo diskutil eject /dev/rdisk1
</code></pre><h2 id="-mac-ubuntu-">在mac中制作ubuntu启动盘</h2>
<pre><code>hdiutil convert -format UDRW -o ~/path/to/target.img ~/path/to/ubuntu.iso
diskutil list, insert usb, diskutil list =&gt; /dev/disk1
diskutil unmountDisk /dev/diskN
sudo dd if=/path/to/downloaded.img of=/dev/rdiskN bs=1m
diskutil eject /dev/diskN
</code></pre></div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-50872903-2', 'auto');
      ga('send', 'pageview');
      
    </script>
    <script src="/js/f013a3a9.app.js"></script>
  </body>
</html>